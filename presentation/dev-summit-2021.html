<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Building Web Apps with Open Source Mapping APIs</title>

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/dev-summit-2021.css" id="theme" />

    <!-- Theme used for syntax highlighted code -->
    <link
      rel="stylesheet"
      href="plugin/highlight/monokai.css"
      id="highlight-theme"
    />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section
          data-background="img/2021/dev-summit/bg-1.png"
          data-background-size="cover"
        >
          <h1 style="text-align: left; font-size: 80px">
            Building web apps with open source mapping APIs
          </h1>
          <p style="text-align: left; font-size: 30px">
            Patrick Arlt, Gavin Rehkemper, Jacob Wasilkowski
          </p>
          <p style="text-align: left; font-size: 30px">
            <a href="https://github.com/patrickarlt">@patrickarlt</a>,
            <a href="https://github.com/gavinr">@gavinr</a> ,
            <a href="https://github.com/jwasilgeo">@jwasilgeo</a>
          </p>
          <p style="text-align: left; font-size: 30px">
            slides:
            <a href="https://www.esriurl.com/ds21os"><code>https://www.esriurl.com/ds21os</code></a>
          </p>
        </section>

        <section data-markdown data-background="img/2021/dev-summit/bg-3.png">
          <textarea data-template>
						## Open Source Mapping APIs

						* Leaflet
						* Mapbox GL JS / MapLibre GL
						* OpenLayers
					</textarea
          >
        </section>

        <section data-markdown data-background="img/2021/dev-summit/bg-3.png">
          <textarea data-template>
						## Why Choose These?

						* Small footprints
						* Simple APIs
						* Open Source Ecosystems
					</textarea
          >
        </section>

        <section data-markdown data-background="img/2021/dev-summit/bg-2.png">
          <textarea data-template>
						## Why **_NOT_** to choose these?

						* No web map support
						* No built in ArcGIS identities
						* No extensive support for different service types
						* No direct REST API integrations
					</textarea
          >
        </section>

        <section data-markdown data-background="img/2021/dev-summit/bg-3.png">
          <textarea data-template>
						## What is supported?

						* Routing, geocoding and demographic data via ArcGIS REST JS
						* Basemaps
						* Raster and vector tile layers
					</textarea
          >
        </section>

        <section data-markdown data-background="img/2021/dev-summit/bg-2.png">
          <textarea data-template>
						## Additional Esri Leaflet features?

						* Feature layer support for hosting your own data
						* Support for map services and image services
						* Prebuilt geocoding control
						* Raster and vector tile layers
					</textarea
          >
        </section>

        <section data-markdown data-background="img/2021/dev-summit/bg-2.png">
          <textarea data-template>
						## Making the right choice?

						| JS API | Open Source | 
						| --- | --- |
						| • More capabilities | • Smaller footprint |
						| • Tighter ArcGIS integrations (web maps, identity, editing) | • Open source licenses + ecosystems |
						| • Integrated UI widgets | | 
						| • Extensive 3d support | | 
						| • 100% Web GL rendering | |
					</textarea
          >
        </section>

        <section data-markdown data-background="img/2021/dev-summit/bg-2.png">
          <textarea data-template>
						## Asking the right questions

						* Am I building an app with ArcGIS identity? > Use JS API
						* Does my app need web map support? > Use JS API
						* Am I only comsuming basic location services? > Consider an open source API
					</textarea
          >
        </section>

        <section data-markdown data-background="img/2021/dev-summit/bg-5.png">
          <textarea data-template>
						## Demos
					</textarea
          >
        </section>

        <!-- BEGIN LEAFLET SECTION -->
        <section data-background="img/2021/dev-summit/bg-5.png">
          <h2 data-id="code-title">Esri Leaflet</h2>
          <img src="img/arcgis-leaflet-tutorials.gif" width="500" height="375" alt="ArcGIS for Developers: Leaflet tutorials">
          <a href="https://developers.arcgis.com/esri-leaflet/">https://developers.arcgis.com/esri-leaflet/</a>
        </section>

        <section data-background="img/2021/dev-summit/bg-5.png">
          <h2>Hello World!</h2>
            
          <pre><code class="hljs" data-trim data-line-numbers>
            const apiKey = "YOUR-API-KEY";
            const basemapEnum = "ArcGIS:Streets";

            const map = L.map('map', {
              minZoom: 2
            }).setView([34.02,-118.805], 13);

            L.esri.Vector.vectorBasemapLayer(basemapEnum, {
              apiKey: apiKey
            }).addTo(map);
          </code></pre>

          <a href="https://developers.arcgis.com/esri-leaflet/maps/display-a-map/">https://developers.arcgis.com/esri-leaflet/maps/display-a-map/</a>
        </section>

        <section data-background="img/2021/dev-summit/bg-5.png">
          <h2>Custom vector tile style</h2>
            
          <pre><code class="hljs" data-trim data-line-numbers>
            const apiKey = "YOUR-API-KEY";

            const map = L.map('map', {
              minZoom: 2
            }).setView([34.02,-118.805], 8);

            L.esri.Vector.vectorBasemapLayer("6976148c11bd497d8624206f9ee03e30", {
              apiKey: apiKey
            }).addTo(map);
          </code></pre>

          <a href="https://developers.arcgis.com/esri-leaflet/styles-and-visualization/display-a-custom-vector-tile-style/">https://developers.arcgis.com/esri-leaflet/styles-and-visualization/display-a-custom-vector-tile-style/</a>
        </section>

        <section data-background="img/2021/dev-summit/bg-5.png">
          <h2>Search for an address</h2>
            
          <pre><code class="hljs" data-trim data-line-numbers>
            const searchControl = L.esri.Geocoding.geosearch({
              // ... Geocoding control options ...
              providers: [
                L.esri.Geocoding.arcgisOnlineProvider({
                  apikey: apiKey
                })
              ]
            }).addTo(map);

            searchControl.on("results", (data) => {
              // handle results and update the map
            });
          </code></pre>

          <a href="https://developers.arcgis.com/esri-leaflet/geocode-and-search/search-for-an-address/">https://developers.arcgis.com/esri-leaflet/geocode-and-search/search-for-an-address/</a>
        </section>

        <section data-background="img/2021/dev-summit/bg-5.png">
          <h2>Find service areas</h2>
          <h3 style="font-size: 0.85em; font-style: italic;">(+ ArcGIS REST JS)</h3>
            
          <pre><code class="hljs" data-trim data-line-numbers>
            const authentication = new arcgisRest.ApiKey({key: apiKey});

            map.on("click", (e) => {
              // Request service area polygons
              arcgisRest
                .serviceArea({
                  endpoint: "https://route-api.arcgis.com/arcgis/rest/services/World/ServiceAreas/NAServer/ServiceArea_World/solveServiceArea",
                  authentication,
                  facilities: [[e.latlng.lng, e.latlng.lat]]
                })
                .then((response) => {
                  // handle response and update the map
                });
            });
          </code></pre>

          <a href="https://developers.arcgis.com/esri-leaflet/route-and-directions/find-service-areas/">https://developers.arcgis.com/esri-leaflet/route-and-directions/find-service-areas/</a>
        </section>

        <section data-background="img/2021/dev-summit/bg-5.png">
          <h2>Query demographic data</h2>
          <h3 style="font-size: 0.85em; font-style: italic;">(+ ArcGIS REST JS)</h3>
            
          <pre><code class="hljs" data-trim data-line-numbers>
            const authentication = new arcgisRest.ApiKey({key: apiKey});

            map.on('click', (e) => { getDemographicData(e.latlng); });

            function getDemographicData(latlng) {
              // request demographic data
              arcgisRest.queryDemographicData({
                  studyAreas: [{ "geometry": { "x": latlng.lng, "y": latlng.lat } }],
                  authentication: authentication
                })
                .then((response) => {
                  // handle response and update the map
                });
            }
          </code></pre>

          <a href="https://developers.arcgis.com/esri-leaflet/demographic-data/query-demographic-data/">https://developers.arcgis.com/esri-leaflet/demographic-data/query-demographic-data/</a>
        </section>

        <!-- ESRI LOGO SLIDE: -->
        <section data-background="img/2021/dev-summit/bg-5.png">
          <img src="img/esri-science-logo-white.png" />
        </section>
      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      });
    </script>
  </body>
</html>
